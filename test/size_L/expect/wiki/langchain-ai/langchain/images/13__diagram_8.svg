<svg aria-roledescription="flowchart-v2" class="flowchart" id="mermaid-t0iig7nwa7o" preserveAspectRatio="xMidYMid meet" preserveaspectratio="xMidYMid meet" role="graphics-document document" viewBox="0 0 1210.515625 524" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
 <style>
  #mermaid-t0iig7nwa7o{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-t0iig7nwa7o .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-t0iig7nwa7o .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-t0iig7nwa7o .error-icon{fill:#dddddd;}#mermaid-t0iig7nwa7o .error-text{fill:#222222;stroke:#222222;}#mermaid-t0iig7nwa7o .edge-thickness-normal{stroke-width:1px;}#mermaid-t0iig7nwa7o .edge-thickness-thick{stroke-width:3.5px;}#mermaid-t0iig7nwa7o .edge-pattern-solid{stroke-dasharray:0;}#mermaid-t0iig7nwa7o .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-t0iig7nwa7o .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-t0iig7nwa7o .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-t0iig7nwa7o .marker{fill:#999;stroke:#999;}#mermaid-t0iig7nwa7o .marker.cross{stroke:#999;}#mermaid-t0iig7nwa7o svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-t0iig7nwa7o p{margin:0;}#mermaid-t0iig7nwa7o .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-t0iig7nwa7o .cluster-label text{fill:#444;}#mermaid-t0iig7nwa7o .cluster-label span{color:#444;}#mermaid-t0iig7nwa7o .cluster-label span p{background-color:transparent;}#mermaid-t0iig7nwa7o .label text,#mermaid-t0iig7nwa7o span{fill:#333;color:#333;}#mermaid-t0iig7nwa7o .node rect,#mermaid-t0iig7nwa7o .node circle,#mermaid-t0iig7nwa7o .node ellipse,#mermaid-t0iig7nwa7o .node polygon,#mermaid-t0iig7nwa7o .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-t0iig7nwa7o .rough-node .label text,#mermaid-t0iig7nwa7o .node .label text,#mermaid-t0iig7nwa7o .image-shape .label,#mermaid-t0iig7nwa7o .icon-shape .label{text-anchor:middle;}#mermaid-t0iig7nwa7o .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-t0iig7nwa7o .rough-node .label,#mermaid-t0iig7nwa7o .node .label,#mermaid-t0iig7nwa7o .image-shape .label,#mermaid-t0iig7nwa7o .icon-shape .label{text-align:center;}#mermaid-t0iig7nwa7o .node.clickable{cursor:pointer;}#mermaid-t0iig7nwa7o .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-t0iig7nwa7o .arrowheadPath{fill:#0b0b0b;}#mermaid-t0iig7nwa7o .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-t0iig7nwa7o .flowchart-link{stroke:#999;fill:none;}#mermaid-t0iig7nwa7o .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-t0iig7nwa7o .edgeLabel p{background-color:#ffffff;}#mermaid-t0iig7nwa7o .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-t0iig7nwa7o .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-t0iig7nwa7o .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-t0iig7nwa7o .cluster text{fill:#444;}#mermaid-t0iig7nwa7o .cluster span{color:#444;}#mermaid-t0iig7nwa7o div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-t0iig7nwa7o .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-t0iig7nwa7o rect.text{fill:none;stroke-width:0;}#mermaid-t0iig7nwa7o .icon-shape,#mermaid-t0iig7nwa7o .image-shape{background-color:#ffffff;text-align:center;}#mermaid-t0iig7nwa7o .icon-shape p,#mermaid-t0iig7nwa7o .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-t0iig7nwa7o .icon-shape rect,#mermaid-t0iig7nwa7o .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-t0iig7nwa7o :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}
 </style>
 <g>
  <marker class="marker flowchart-v2" id="mermaid-t0iig7nwa7o_flowchart-v2-pointEnd" markerheight="8" markerunits="userSpaceOnUse" markerwidth="8" orient="auto" refx="5" refy="5" viewbox="0 0 10 10">
   <path class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"/>
  </marker>
  <marker class="marker flowchart-v2" id="mermaid-t0iig7nwa7o_flowchart-v2-pointStart" markerheight="8" markerunits="userSpaceOnUse" markerwidth="8" orient="auto" refx="4.5" refy="5" viewbox="0 0 10 10">
   <path class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z" style="stroke-width: 1; stroke-dasharray: 1, 0;"/>
  </marker>
  <marker class="marker flowchart-v2" id="mermaid-t0iig7nwa7o_flowchart-v2-circleEnd" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="11" refy="5" viewbox="0 0 10 10">
   <circle class="arrowMarkerPath" cx="5" cy="5" r="5" style="stroke-width: 1; stroke-dasharray: 1, 0;"/>
  </marker>
  <marker class="marker flowchart-v2" id="mermaid-t0iig7nwa7o_flowchart-v2-circleStart" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="-1" refy="5" viewbox="0 0 10 10">
   <circle class="arrowMarkerPath" cx="5" cy="5" r="5" style="stroke-width: 1; stroke-dasharray: 1, 0;"/>
  </marker>
  <marker class="marker cross flowchart-v2" id="mermaid-t0iig7nwa7o_flowchart-v2-crossEnd" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="12" refy="5.2" viewbox="0 0 11 11">
   <path class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9" style="stroke-width: 2; stroke-dasharray: 1, 0;"/>
  </marker>
  <marker class="marker cross flowchart-v2" id="mermaid-t0iig7nwa7o_flowchart-v2-crossStart" markerheight="11" markerunits="userSpaceOnUse" markerwidth="11" orient="auto" refx="-1" refy="5.2" viewbox="0 0 11 11">
   <path class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9" style="stroke-width: 2; stroke-dasharray: 1, 0;"/>
  </marker>
  <g class="root">
   <g class="clusters">
    <g class="cluster" data-look="classic" id="subGraph2">
     <rect height="128" style="" width="1156.28125" x="46.234375" y="8"/>
     <g class="cluster-label" transform="translate(530.75, 8)">
      <foreignObject height="24" width="187.25">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          Document Size Routing
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="cluster" data-look="classic" id="Implementation">
     <rect height="152" style="" width="1191.78125" x="8" y="364"/>
     <g class="cluster-label" transform="translate(540.3671875, 364)">
      <foreignObject height="24" width="127.046875">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          Implementation
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="cluster" data-look="classic" id="subGraph0">
     <rect height="128" style="" width="1146.6875" x="45.6796875" y="186"/>
     <g class="cluster-label" transform="translate(519.0234375, 186)">
      <foreignObject height="48" width="200">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          Summarization Strategies
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
   </g>
   <g class="edgePaths">
    <path class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" d="M169.922,99L169.922,105.167C169.922,111.333,169.922,123.667,169.922,134C169.922,144.333,169.922,152.667,169.922,161C169.922,169.333,169.922,177.667,169.922,185.333C169.922,193,169.922,200,169.922,203.5L169.922,207" id="L_SmallDocs_StuffStrategy_0" marker-end="url(#mermaid-t0iig7nwa7o_flowchart-v2-pointEnd)" style=""/>
    <path class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" d="M587.695,99L587.695,105.167C587.695,111.333,587.695,123.667,587.695,134C587.695,144.333,587.695,152.667,587.695,161C587.695,169.333,587.695,177.667,587.695,185.333C587.695,193,587.695,200,587.695,203.5L587.695,207" id="L_MediumDocs_MapReduceStrategy_0" marker-end="url(#mermaid-t0iig7nwa7o_flowchart-v2-pointEnd)" style=""/>
    <path class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" d="M1037.516,111L1037.516,115.167C1037.516,119.333,1037.516,127.667,1037.516,136C1037.516,144.333,1037.516,152.667,1037.516,161C1037.516,169.333,1037.516,177.667,1037.516,185.333C1037.516,193,1037.516,200,1037.516,203.5L1037.516,207" id="L_LargeDocs_RefineStrategy_0" marker-end="url(#mermaid-t0iig7nwa7o_flowchart-v2-pointEnd)" style=""/>
    <path class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" d="M169.922,289L169.922,293.167C169.922,297.333,169.922,305.667,169.922,314C169.922,322.333,169.922,330.667,169.922,339C169.922,347.333,169.922,355.667,169.922,363.333C169.922,371,169.922,378,169.922,381.5L169.922,385" id="L_StuffStrategy_ConcatenateChain_0" marker-end="url(#mermaid-t0iig7nwa7o_flowchart-v2-pointEnd)" style=""/>
    <path class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" d="M501.864,289L492.694,293.167C483.524,297.333,465.184,305.667,456.014,314C446.844,322.333,446.844,330.667,446.844,339C446.844,347.333,446.844,355.667,446.844,367.333C446.844,379,446.844,394,446.844,401.5L446.844,409" id="L_MapReduceStrategy_MapChain_0" marker-end="url(#mermaid-t0iig7nwa7o_flowchart-v2-pointEnd)" style=""/>
    <path class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" d="M673.527,289L682.697,293.167C691.867,297.333,710.207,305.667,719.377,314C728.547,322.333,728.547,330.667,728.547,339C728.547,347.333,728.547,355.667,728.547,367.333C728.547,379,728.547,394,728.547,401.5L728.547,409" id="L_MapReduceStrategy_ReduceChain_0" marker-end="url(#mermaid-t0iig7nwa7o_flowchart-v2-pointEnd)" style=""/>
    <path class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" d="M1037.516,289L1037.516,293.167C1037.516,297.333,1037.516,305.667,1037.516,314C1037.516,322.333,1037.516,330.667,1037.516,339C1037.516,347.333,1037.516,355.667,1037.516,367.333C1037.516,379,1037.516,394,1037.516,401.5L1037.516,409" id="L_RefineStrategy_RefineChain_0" marker-end="url(#mermaid-t0iig7nwa7o_flowchart-v2-pointEnd)" style=""/>
   </g>
   <g class="edgeLabels">
    <g class="edgeLabel">
     <g class="label" transform="translate(0, 0)">
      <foreignObject height="1000" width="100%">
       <div class="labelBkg" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="edgeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;"/>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="edgeLabel">
     <g class="label" transform="translate(0, 0)">
      <foreignObject height="1000" width="100%">
       <div class="labelBkg" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="edgeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;"/>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="edgeLabel">
     <g class="label" transform="translate(0, 0)">
      <foreignObject height="1000" width="100%">
       <div class="labelBkg" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="edgeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;"/>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="edgeLabel">
     <g class="label" transform="translate(0, 0)">
      <foreignObject height="1000" width="100%">
       <div class="labelBkg" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="edgeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;"/>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="edgeLabel">
     <g class="label" transform="translate(0, 0)">
      <foreignObject height="1000" width="100%">
       <div class="labelBkg" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="edgeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;"/>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="edgeLabel">
     <g class="label" transform="translate(0, 0)">
      <foreignObject height="1000" width="100%">
       <div class="labelBkg" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="edgeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;"/>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="edgeLabel">
     <g class="label" transform="translate(0, 0)">
      <foreignObject height="1000" width="100%">
       <div class="labelBkg" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="edgeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;"/>
       </div>
      </foreignObject>
     </g>
    </g>
   </g>
   <g class="nodes">
    <g class="node default" id="flowchart-StuffStrategy-0" transform="translate(169.921875, 250)">
     <rect class="basic label-container" height="78" style="" width="178.484375" x="-89.2421875" y="-39"/>
     <g class="label" style="" transform="translate(-59.2421875, -24)">
      <rect/>
      <foreignObject height="48" width="118.484375">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          Stuff Strategy
          <br/>
          Single LLM call
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-MapReduceStrategy-1" transform="translate(587.6953125, 250)">
     <rect class="basic label-container" height="78" style="" width="232.359375" x="-116.1796875" y="-39"/>
     <g class="label" style="" transform="translate(-86.1796875, -24)">
      <rect/>
      <foreignObject height="48" width="172.359375">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          Map-Reduce Strategy
          <br/>
          Parallel + Combine
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-RefineStrategy-2" transform="translate(1037.515625, 250)">
     <rect class="basic label-container" height="78" style="" width="239.703125" x="-119.8515625" y="-39"/>
     <g class="label" style="" transform="translate(-89.8515625, -24)">
      <rect/>
      <foreignObject height="48" width="179.703125">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          Refine Strategy
          <br/>
          Iterative improvement
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-ConcatenateChain-3" transform="translate(169.921875, 440)">
     <rect class="basic label-container" height="102" style="" width="253.84375" x="-126.921875" y="-51"/>
     <g class="label" style="" transform="translate(-96.921875, -36)">
      <rect/>
      <foreignObject height="72" width="193.84375">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          '
          <br/>
          <br/>
          '.join(doc.page_content)
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-MapChain-4" transform="translate(446.84375, 440)">
     <rect class="basic label-container" height="54" style="" width="200" x="-100" y="-27"/>
     <g class="label" style="" transform="translate(-70, -12)">
      <rect/>
      <foreignObject height="24" width="140">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          map_chain.map()
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-ReduceChain-5" transform="translate(728.546875, 440)">
     <rect class="basic label-container" height="54" style="" width="263.40625" x="-131.703125" y="-27"/>
     <g class="label" style="" transform="translate(-101.703125, -12)">
      <rect/>
      <foreignObject height="24" width="203.40625">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          reduce_documents_chain
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-RefineChain-6" transform="translate(1037.515625, 440)">
     <rect class="basic label-container" height="54" style="" width="254.53125" x="-127.265625" y="-27"/>
     <g class="label" style="" transform="translate(-97.265625, -12)">
      <rect/>
      <foreignObject height="24" width="194.53125">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          refine_documents_chain
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-SmallDocs-7" transform="translate(169.921875, 72)">
     <rect class="basic label-container" height="54" style="" width="177.375" x="-88.6875" y="-27"/>
     <g class="label" style="" transform="translate(-58.6875, -12)">
      <rect/>
      <foreignObject height="24" width="117.375">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          &lt; 4000 tokens
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-MediumDocs-9" transform="translate(587.6953125, 72)">
     <rect class="basic label-container" height="54" style="" width="215.5625" x="-107.78125" y="-27"/>
     <g class="label" style="" transform="translate(-77.78125, -12)">
      <rect/>
      <foreignObject height="24" width="155.5625">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         <p style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
          4000-16000 tokens
         </p>
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
    <g class="node default" id="flowchart-LargeDocs-11" transform="translate(1037.515625, 72)">
     <rect class="basic label-container" height="78" style="" width="260" x="-130" y="-39"/>
     <g class="label" style="" transform="translate(-100, -24)">
      <rect/>
      <foreignObject height="48" width="200">
       <div style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;" xmlns="http://www.w3.org/1999/xhtml">
        <span class="nodeLabel" style="color: #202020 !important; font-family: Arial, Helvetica, sans-serif !important; font-size: 14px !important; background-color: transparent !important; visibility: visible !important; opacity: 1 !important; display: inline !important; margin: 0 !important; padding: 0 !important; border: none !important;">
         Unsupported markdown: blockquote
        </span>
       </div>
      </foreignObject>
     </g>
    </g>
   </g>
  </g>
 </g>
</svg>
